<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>06.Most Frequent Number</title>
    <link href="styles/StyleSheet3.less" rel="stylesheet" />
</head>
<body>
    <!-- 06. Write a program that finds the most frequent number in an array. Example:
	{4, 1, 1, 4, 2, 3, 4, 4, 1, 2, 4, 9, 3}  4 (5 times)-->

    <div id="wrapper">
        <form name="forms">
            <p>Find the most frequent number in an array [4, 1, 1, 4, 2, 3, 4, 4, 1, 2, 4, 9, 3]</p>
            <a href="#" onclick="onButtonClick()">Show result</a>
        </form>
    </div>
    <div id="results">
        <p id="result"></p>
    </div>
    <script type="text/javascript">
        function onButtonClick() {
            //variables
            var array = [4, 1, 1, 4, 2, 3, 4, 4, 1, 2, 4, 9, 3];
            var maxIndex;
            var currentIndex = array[0];
            var currentSum = 1;
            var maxSum = 1;
            var value;

            //sort the array
            //sort the array from smallest to biggest
            for (var i = array.length - 1; i > 0; i--) {
                max = i;
                for (var m = i - 1; m >= 0; m--) {
                    if (array[m] > array[max]) {
                        max = m;
                    }
                }
                //swap current element with smallest element
                if (i != max) {
                    array[i] = array[i] ^ array[max];
                    array[max] = array[max] ^ array[i];
                    array[i] = array[i] ^ array[max];
                }
            }

            value = array[0];
            //find the most frequent number
            for (var i = 1; i < array.length; i++) {
                if (currentIndex == array[i]) {
                    currentSum++;
                }
                else {
                    currentIndex = array[i];
                    currentSum = 1;
                }
                if (currentSum > maxSum) {
                    maxSum = currentSum;
                    value = array[i - 1];
                }
            }

            //print sequence
            document.getElementById('result').innerHTML = value + " is found " + maxSum + " times in the array";
        }
    </script>
</body>
</html>
