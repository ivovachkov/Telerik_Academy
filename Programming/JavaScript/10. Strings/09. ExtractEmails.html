<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>09. Extract Emails</title>
    <link href="styles/StyleSheet3.less" rel="stylesheet" />
</head>
<body>
    <!-- 09. Write a function for extracting all email addresses from given text. 
            All substrings that match the format <identifier>@<host>…<domain> should
            be recognized as emails. Return the emails as array of strings.-->

    <div id="wrapper">
        <form name="forms">
            <p id="text">If you have complaints or suggestions regarding Telerik services, please contact us at clientservice@telerik.com. For Sitefinity, please e-mail: clientservice@sitefinity.com.</p>
            <a href="#" onclick="onButtonClick()">Extract emails</a>
        </form>
    </div>
    <div id="results">
        <p id="result"></p>
    </div>
    <script type="text/javascript">

        function extractEmails(text) {
            var words = [];
            var emails = [];
            words = text.split(/[\s,.-;:]+/g);
            for (var i = 0; i < words.length; i++) {
                if (words[i].indexOf('@') != -1) {
                    emails[i] = words[i] + '.' + words[i + 1];
                }
            }
            //clear empty cells
            emails = emails.filter(function () { return true });
            return emails;
        };

        function onButtonClick() {
            var text = document.getElementById('text').innerHTML;
            document.getElementById('result').innerHTML = extractEmails(text).join();
        }
    </script>
</body>
</html>
